<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ú—É–∑–µ–π –Ω–∞—É–∫–∏ ‚Äî –°–∏—Ä–∏—É—Å.–ü—É—Ç–µ–≤–æ–¥–∏—Ç–µ–ª—å</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Montserrat', Arial, sans-serif;
            background: linear-gradient(120deg, #6A3EFF 0%, #30CFFF 100%);
            min-height: 100vh;
        }
        .sirius-header {
            color: #fff;
            text-shadow: 0 2px 16px rgba(106,62,255,0.15);
            letter-spacing: 2px;
            font-weight: 700;
            margin-top: 32px;
        }
        .place-card {
            background: #fff;
            border-radius: 18px;
            box-shadow: 0 8px 32px rgba(106,62,255,0.11);
            margin: 40px auto 20px;
            padding: 32px 28px 24px;
            max-width: 700px;
        }
        .gallery img {
            max-width: 180px;
            max-height: 120px;
            margin: 5px;
            border-radius: 8px;
            box-shadow: 0 2px 12px rgba(106,62,255,0.10);
        }
        .badge-sirius {
            background: linear-gradient(90deg,#6A3EFF 50%,#30CFFF 100%);
            color: #fff;
            font-size: 0.9em;
        }
        .btn-sirius {
            background: linear-gradient(90deg,#6A3EFF 50%,#30CFFF 100%);
            color: #fff;
            border: none;
            font-weight: 600;
            box-shadow: 0 2px 8px rgba(106,62,255,0.12);
            transition: background 0.15s;
        }
        .btn-sirius:hover {
            background: linear-gradient(90deg,#30CFFF 30%,#6A3EFF 100%);
            color: #fff;
        }
    </style>
</head>
<body>
<div class="container">
    <h1 class="sirius-header text-center mb-4">–ú—É–∑–µ–π –Ω–∞—É–∫–∏</h1>
    <div class="place-card">
        <a href="index.html" class="btn btn-outline-secondary mb-3">‚Üê –ù–∞–∑–∞–¥ –∫–æ –≤—Å–µ–º –º–µ—Å—Ç–∞–º</a>
        <span class="badge badge-sirius mb-2">–ú—É–∑–µ–π</span>
        <p class="mb-1"><b>–ê–¥—Ä–µ—Å:</b> —É–ª. –ü—Ä–∏–º–µ—Ä–Ω–∞—è, 1</p>
        <div class="gallery mb-3">
            <img src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80" alt="–ú—É–∑–µ–π">
            <img src="https://images.unsplash.com/photo-1465101046530-73398c7f28ca?auto=format&fit=crop&w=400&q=80" alt="–ú—É–∑–µ–π 2">
        </div>
        <p>
            –ú—É–∑–µ–π –Ω–∞—É–∫–∏ ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –ª—é–±–æ–∑–Ω–∞—Ç–µ–ª—å–Ω—ã—Ö. –ü–æ—Å—Ç–æ—è–Ω–Ω—ã–µ –∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —ç–∫—Å–ø–æ–∑–∏—Ü–∏–∏, –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å—ã, –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∑–æ–Ω—ã.
        </p>
        <h4 class="mt-4">–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞: <span id="avg-rating-value" class="text-warning">0</span> / 5</h4>
        <h3 class="mt-4 mb-3">–û—Ç–∑—ã–≤—ã</h3>
        <ul class="list-group mb-4" id="reviewsList"></ul>
        <h5 class="mt-4">–û—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</h5>
        <form id="reviewForm">
            <div class="mb-2">
                <label class="form-label">–û—Ü–µ–Ω–∫–∞ (1-5):</label>
                <input type="number" min="1" max="5" required class="form-control" style="width:100px;" id="rating">
            </div>
            <div class="mb-2">
                <label class="form-label">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</label>
                <textarea class="form-control" rows="2" required id="comment"></textarea>
            </div>
            <button type="submit" class="btn btn-sirius">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
        </form>
    </div>
</div>

<script>
document.getElementById('reviewForm').addEventListener('submit', function(e) {
    e.preventDefault();
    const rating = document.getElementById('rating').value;
    const comment = document.getElementById('comment').value;
    const review = { rating, comment, date: new Date().toISOString().split('T')[0] };

    let reviews = JSON.parse(localStorage.getItem('reviews')) || [];
    reviews.push(review);
    localStorage.setItem('reviews', JSON.stringify(reviews));

    displayReviews();
    this.reset();
});

function displayReviews() {
    let reviews = JSON.parse(localStorage.getItem('reviews')) || [];
    const reviewsList = document.getElementById('reviewsList');
    const avgRatingElement = document.getElementById('avg-rating-value');
    
    // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º —Å—Ä–µ–¥–Ω—é—é –æ—Ü–µ–Ω–∫—É
    let avgRating = 0;
    if (reviews.length > 0) {
        const sum = reviews.reduce((total, review) => total + parseInt(review.rating), 0);
        avgRating = (sum / reviews.length).toFixed(1);
    }
    avgRatingElement.textContent = avgRating;
    
    if (reviews.length === 0) {
        reviewsList.innerHTML = '<p class="text-muted">–ü–æ–∫–∞ –Ω–µ—Ç –æ—Ç–∑—ã–≤–æ–≤.</p>';
        return;
    }
    
    reviewsList.innerHTML = reviews.map((r, i) => 
        `<div class="border rounded p-2 mb-2 position-relative">
            <strong>–û—Ü–µ–Ω–∫–∞: ${r.rating}</strong><br>
            ${escapeHtml(r.comment)}<br>
            <span class="text-muted" style="font-size: 14px;">${r.date}</span>
            <button onclick="deleteReview(${i})" title="–£–¥–∞–ª–∏—Ç—å –æ—Ç–∑—ã–≤"
                style="background:none;border:none;position:absolute;top:8px;right:8px;font-size:18px;cursor:pointer;color:#bb2d3b;">
                üóë
            </button>
        </div>`
    ).join('');
}

// –§—É–Ω–∫—Ü–∏—è —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
function escapeHtml(text) {
    return text.replace(/[&<>"']/g, function(m) {
        return ({
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        })[m];
    });
}

function deleteReview(index) {
    let reviews = JSON.parse(localStorage.getItem('reviews')) || [];
    reviews.splice(index, 1);
    localStorage.setItem('reviews', JSON.stringify(reviews));
    displayReviews();
}

window.onload = displayReviews;
</script>